3.（上）R语言中的排序，集合运算
1.排序
在R中，和排序相关的函数主要有三个：sort()，rank()，order()。 sort(x)是对向量x进行排序，返回值排序后的数值向量。 order()的返回值是对应“排名”的元素所在向量中的位置。 其中sort(x)等同于x[order(x)]

rank()是求秩的函数，它的返回值是这个向量中对应元素的“排名”。

x<-c(97,93,85,74,32,100,99,67)
sort(x)#返回排序后的数值型向量
## [1]  32  67  74  85  93  97  99 100
order(x)#返回的是有特定规律的位置信息
## [1] 5 8 4 3 2 1 7 6
x[order(x)]#向量根据特定的位置信息取子集，返回排序后的数值型向量
## [1]  32  67  74  85  93  97  99 100
#rank(x)
其中比较有用的order，它可以用来给数据框进行排序 dat[order(dat[,1]),] 以该数据框的第一列进行排序 dat[order(dat[,1],dat[,2]),] 以该数据框的第一列为主要次序，第二列为次要序列进行排序

2.集合运算
在R里面除了简单的对两个向量求交集并集补集之外， 比较重要的就是match和 %in% 了。

（1）对集合A,B,C赋值

A<-1:10;A
##  [1]  1  2  3  4  5  6  7  8  9 10
B<-seq(5,15,2);B
## [1]  5  7  9 11 13 15
C<-1:5;C
## [1] 1 2 3 4 5
（2）求A和B的并集,合并

union(A,B)
##  [1]  1  2  3  4  5  6  7  8  9 10 11 13 15
（3）求A和B的交集，共有的

intersect(A,B)
## [1] 5 7 9
（4）求A-B，A特有的

setdiff(A,B)
## [1]  1  2  3  4  6  8 10
（5）求B-A，B特有的

setdiff(B,A)
## [1] 11 13 15
（6）检验集合A,B是否相同，返回逻辑值

setequal(A,B)
## [1] FALSE
（7）检验元素12是否属于集合C，返回逻辑值

is.element(12,C)
## [1] FALSE
（8）检验集合A是否包含C，返回逻辑值

 all(C%in%A)
## [1] TRUE
（9）检验集合B是否包含C，返回逻辑值

all(C%in%B)
## [1] FALSE
（10）

C%in%B
## [1] FALSE FALSE FALSE FALSE  TRUE
从上面可以看到%in%这个操作符只返回逻辑向量TRUE或者FALSE， 而且返回值应该与%in%这个操作符前面的向量程度相等。 也就是说它相当于遍历了C里面的一个个元素，判断它们是否在B中出现过， 然后返回是或者否即可。

（11）检验集合B是否包含C，返回逻辑值

match(C,B)
## [1] NA NA NA NA  1
match(C,B)返回结果同样与前面的向量等长， 但是它并非返回逻辑向量，而是遍历了C里面的一个个元素， 判断它们是否在B中出现过，如果出现就返回在B中的索引号， 如果没有出现，就返回NA。

3.参考
# 1. R语言中的排序，集合运算，reshape，以及merge总结[生信技能树]
# https://mp.weixin.qq.com/s/0u1Ms5cy3KonoC14w9GWgg
